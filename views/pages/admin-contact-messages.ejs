
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <h1 class="text-3xl font-bold text-gray-900 mb-8">Admin: Contact <span class="text-gradient">Messages</span></h1>

  <!-- Messages List -->
  <div class="bg-white shadow-lg rounded-xl overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sender</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Subject</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
          <th scope="col" class="relative px-6 py-3"></th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% if (messages && messages.length > 0) { %>
          <% messages.forEach(message => { %>
            <tr class="<%= message.is_read ? 'text-gray-500' : 'font-semibold text-gray-900' %> hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm">
                <%= new Date(message.created_at).toLocaleDateString() %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm">
                <%= message.name %> (<%= message.email %>)
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm">
                <%= message.subject %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <% const statusClass = message.is_read ? 'bg-gray-100 text-gray-800' : 'bg-red-100 text-red-800'; %>
                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= statusClass %>">
                  <%= message.is_read ? 'Read' : 'Unread' %>
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <a href="/admin/contact-messages/<%= message.id %>" class="text-purple-600 hover:text-purple-900">View</a>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="5" class="px-6 py-12 text-center text-gray-500">
              No contact messages found.
            </td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>

